  <div class="container" style="min-height: 420px;">
    <div class="row mb-5">
        <div class="col-8">Cuentas abandonadas - Consolidado {{tipoConsolidado}}</div>
        <div class="col-2">
            <a href="{{urlReporteConsolidado}}" target="_blank" class="btn btn-primary" style="margin-bottom: 20px;margin-left: 15px;">Descargar consolidado</a>
        </div>
    </div>
    <div class="row">
      <div class="col-6">
        <div class="row">
          <label>Filtro entidad financiera</label>
          <select class="form-control" id="Organizador" [(ngModel)]="entidad">
            <option value="null" disabled="true" [selected]="true" >Entidad</option>
            <option
                *ngFor="let ent of entidades"
                value="{{ent.idOrganizacion}}">
                {{ent.nombre}}
            </option>
          </select>
        </div>
      </div>
      <div class="col-6" *ngIf="tipoConsolidado == 'valoración'||tipoConsolidado == 'administradas'||tipoConsolidado == 'reintegro'||tipoConsolidado == 'cesion'">
        <div class="row">
          <div class="col-6">
            <label>Filtro de fecha Inicio</label> 
            <input type="date" class="form-control" [(ngModel)]="fechaInicio">
          </div>
          <div class="col-6">
            <label>Filtro de fecha Final</label> 
            <input type="date" class="form-control" [(ngModel)]="fechaFin">  
          </div> 
        </div>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-12">
        <input type="button" class="form-control btn-primary-icetex" style="width: 30%;margin: 0 auto;" (click)="buscar()" value="buscar">
      </div>
    </div>
    <div class="row mt-5">
        <table mat-table [dataSource]="consolidadosDataSource" matSort>
            <ng-container matColumnDef="EntidadFinanciera" >
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Entidad financiera</th>
              <td mat-cell *matCellDef="let element">{{element.nombre}} </td>
            </ng-container>

            <ng-container matColumnDef="TipoArchivo" >
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Tipo archivo</th>
              <td mat-cell *matCellDef="let element">{{element.tipoArchivo}} </td>
            </ng-container>

            <ng-container matColumnDef="FechaTraslado" *ngIf="tipoConsolidado == 'administradas'||tipoConsolidado == 'reintegro'||tipoConsolidado == 'cesion'">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha traslado</th>
              <td mat-cell *matCellDef="let element">{{element.fechaTraslado | date :'dd-MM-yyyy'}} </td>
            </ng-container>

            <ng-container matColumnDef="FechaCorte" *ngIf="tipoConsolidado == 'administradas'||tipoConsolidado == 'reintegro'||tipoConsolidado == 'cesion'">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha corte</th>
              <td mat-cell *matCellDef="let element">{{element.fechaCorte | date :'dd-MM-yyyy'}} </td>
            </ng-container>

            <ng-container matColumnDef="NumeroCuentas" >
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Número Cuentas</th>
              <td mat-cell *matCellDef="let element">{{element.nroCuentas}} </td>
            </ng-container>

            <ng-container matColumnDef="TotalSaldoInicial" *ngIf="tipoConsolidado == 'valoración'||tipoConsolidado == 'reintegro'||tipoConsolidado == 'cesion'">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Total saldo inicial</th>
              <td mat-cell *matCellDef="let element">{{element.totalSaldoInicial | replaceLeftZeros}} </td>
            </ng-container>

            <ng-container matColumnDef="TotalTraslados" *ngIf="tipoConsolidado == 'administradas'||tipoConsolidado == 'reintegro'||tipoConsolidado == 'cesion'">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Total traslados</th>
              <td mat-cell *matCellDef="let element">{{element.remuneracion | replaceLeftZeros}} </td>
            </ng-container>

            <ng-container matColumnDef="TotalRemuneracionPeriodo" *ngIf="tipoConsolidado == 'valoración'||tipoConsolidado == 'reintegro'||tipoConsolidado == 'cesion'">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Total remuneración periodo</th>
              <td mat-cell *matCellDef="let element">{{element.remuneracion | replaceLeftZeros}} </td>
            </ng-container>

            <ng-container matColumnDef="TotalRemuneracionAcumulada" *ngIf="tipoConsolidado == 'valoración'||tipoConsolidado == 'reintegro'||tipoConsolidado == 'cesion'">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Total remuneración acumulada</th>
              <td mat-cell *matCellDef="let element">{{element.totalRemuneracionAcumulada | replaceLeftZeros}} </td>
            </ng-container>

            <ng-container matColumnDef="TasaPonderada" >
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Tasa ponderada</th>
              <td mat-cell *matCellDef="let element">{{element.tasaPonderada}} </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
          <mat-paginator [pageSizeOptions]="[10, 20, 50]" showFirstLastButtons></mat-paginator>
    </div>
</div>